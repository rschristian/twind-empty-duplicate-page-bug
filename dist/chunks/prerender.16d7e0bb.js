import{l as e,d as t,v as r,B as n,T as o}from"../index.75c44aac.js";import{executionAsyncId as a,createHook as i}from"node:async_hooks";var s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,l=/[&<>"]/;function f(e){var t=String(e);return l.test(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}var c=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},u=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},p={};function _(e){var t="";for(var r in e){var n=e[r];null!=n&&""!==n&&(t&&(t+=" "),t+="-"==r[0]?r:p[r]||(p[r]=r.replace(/([A-Z])/g,"-$1").toLowerCase()),t+=": ",t+=n,"number"==typeof n&&!1===s.test(r)&&(t+="px"),t+=";")}return t||void 0}function d(e,t){for(var r in t)e[r]=t[r];return e}function v(e,t){return Array.isArray(t)?t.reduce(v,e):null!=t&&!1!==t&&e.push(t),e}var g={shallow:!0},h=[],y=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,m=/[\s\n\\/='"\0<>]/,b=function(){};w.render=w;var x=[];function w(t,r,n){r=r||{},n=n||{};var o=e.__s;e.__s=!0;var a=O(t,r,n);return e.__c&&e.__c(t,x),x.length=0,e.__s=o,a}function O(r,n,o,a,i,s){if(null==r||"boolean"==typeof r)return"";if("object"!=typeof r)return f(r);var l=o.pretty,p=l&&"string"==typeof l?l:"\t";if(Array.isArray(r)){for(var g="",x=0;x<r.length;x++)l&&x>0&&(g+="\n"),g+=O(r[x],n,o,a,i,s);return g}var w,S=r.type,j=r.props,k=!1;if("function"==typeof S){if(k=!0,!o.shallow||!a&&!1!==o.renderRootComponent){if(S===t){var C=[];return v(C,r.props.children),O(C,n,o,!1!==o.shallowHighOrder,i,s)}var $,A=r.__c={__v:r,context:n,props:r.props,setState:b,forceUpdate:b,__h:[]};if(e.__b&&e.__b(r),e.__r&&e.__r(r),S.prototype&&"function"==typeof S.prototype.render){var P=S.contextType,H=P&&n[P.__c],E=null!=P?H?H.props.value:P.__:n;(A=r.__c=new S(j,E)).__v=r,A._dirty=A.__d=!0,A.props=j,null==A.state&&(A.state={}),null==A._nextState&&null==A.__s&&(A._nextState=A.__s=A.state),A.context=E,S.getDerivedStateFromProps?A.state=d(d({},A.state),S.getDerivedStateFromProps(A.props,A.state)):A.componentWillMount&&(A.componentWillMount(),A.state=A._nextState!==A.state?A._nextState:A.__s!==A.state?A.__s:A.state),$=A.render(A.props,A.state,A.context)}else{var F=S.contextType,M=F&&n[F.__c];$=S.call(r.__c,j,null!=F?M?M.props.value:F.__:n)}return A.getChildContext&&(n=d(d({},n),A.getChildContext())),e.diffed&&e.diffed(r),O($,n,o,!1!==o.shallowHighOrder,i,s)}S=(w=S).displayName||w!==Function&&w.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=h.length;n--;)if(h[n]===e){r=n;break}r<0&&(r=h.push(e)-1),t="UnnamedComponent"+r}return t}(w)}var D,L,T="<"+S;if(j){var N=Object.keys(j);o&&!0===o.sortAttributes&&N.sort();for(var I=0;I<N.length;I++){var R=N[I],U=j[R];if("children"!==R){if(!m.test(R)&&(o&&o.allAttributes||"key"!==R&&"ref"!==R&&"__self"!==R&&"__source"!==R&&"defaultValue"!==R)){if("className"===R){if(j.class)continue;R="class"}else i&&R.match(/^xlink:?./)&&(R=R.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===R){if(j.for)continue;R="for"}"style"===R&&U&&"object"==typeof U&&(U=_(U)),"a"===R[0]&&"r"===R[1]&&"boolean"==typeof U&&(U=String(U));var W=o.attributeHook&&o.attributeHook(R,U,n,o,k);if(W||""===W)T+=W;else if("dangerouslySetInnerHTML"===R)L=U&&U.__html;else if("textarea"===S&&"value"===R)D=U;else if((U||0===U||""===U)&&"function"!=typeof U){if(!(!0!==U&&""!==U||(U=R,o&&o.xml))){T+=" "+R;continue}if("value"===R){if("select"===S){s=U;continue}"option"===S&&s==U&&(T+=" selected")}T+=" "+R+'="'+f(U)+'"'}}}else D=U}}if(l){var q=T.replace(/\n\s*/," ");q===T||~q.indexOf("\n")?l&&~T.indexOf("\n")&&(T+="\n"):T=q}if(T+=">",m.test(S))throw new Error(S+" is not a valid HTML tag name in "+T);var z,J=y.test(S)||o.voidElements&&o.voidElements.test(S),V=[];if(L)l&&u(L)&&(L="\n"+p+c(L,p)),T+=L;else if(null!=D&&v(z=[],D).length){for(var Z=l&&~T.indexOf("\n"),B=!1,G=0;G<z.length;G++){var K=z[G];if(null!=K&&!1!==K){var Q=O(K,n,o,!0,"svg"===S||"foreignObject"!==S&&i,s);if(l&&!Z&&u(Q)&&(Z=!0),Q)if(l){var X=Q.length>0&&"<"!=Q[0];B&&X?V[V.length-1]+=Q:V.push(Q),B=X}else V.push(Q)}}if(l&&Z)for(var Y=V.length;Y--;)V[Y]="\n"+p+c(V[Y],p)}if(V.length||L)T+=V.join("");else if(o&&o.xml)return T.substring(0,T.length-1)+" />";return!J||z||L?(l&&~T.indexOf("\n")&&(T+="\n"),T+="</"+S+">"):T=T.replace(/>$/," />"),T}let S;w.shallowRender=function(e,t){return w(e,t,g)};const j=e.vnode;e.vnode=e=>{j&&j(e),S&&S(e)};var k=(e,t)=>{const{id:r,textContent:n}=(e=>({id:"__twind",textContent:(Array.isArray(e)?e:e.target).join("")}))(e);return t={...t,id:r},`<style${Object.keys(t).reduce(((e,r)=>`${e} ${r}=${JSON.stringify(t[r])}`),"")}>${n}</style>`},C=()=>{const e=(()=>{const e=(()=>{const e=[];let t=[];const r=(e,r)=>t[r]=e(t[r]);return{init:t=>r(t,e.push(t)-1),reset:(n=[])=>([n,t]=[t,n],e.forEach(r),n)}})();let t;return e.init(((e=[])=>t=e)),Object.defineProperties({get target(){return[...t]},insert:(e,r)=>t.splice(r,0,e)},Object.getOwnPropertyDescriptors(e))})(),t=e.reset(),r=new Map,n=i({init(e,t,n){const o=r.get(n);o&&r.set(e,o)},before(t){const n=r.get(t);n&&e.reset(n.state)},after(n){const o=r.get(n);o&&(o.state=e.reset(t))},destroy(e){r.delete(e)}}).enable();return{get target(){return e.target},insert:e.insert,init:e.init,reset:()=>{const t=a(),n=r.get(t);n?n.state=void 0:r.set(t,{state:void 0}),e.reset()},enable:()=>n.enable(),disable:()=>n.disable()}},$=Object.defineProperty,A=Object.prototype.hasOwnProperty,P=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,E=(e,t,r)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))A.call(t,r)&&E(e,r,t[r]);if(P)for(var r of P(t))H.call(t,r)&&E(e,r,t[r]);return e};function M(e,t,a){const i=C();return o(F(F({},e),{sheet:i})),e=>Promise.resolve().then((async()=>{i.reset();let o=await async function(e,t){const o=(t=t||{}).maxDepth||10,a=t.props;let i=0;"function"==typeof e?e=r(e,a):a&&(e=n(e,a));const s=()=>{if(!(++i>o))try{return w(e)}catch(t){if(t&&t.then)return t.then(s);throw t}};let l=new Set;S=({type:e,props:t})=>{"a"!==e||!t||!t.href||t.target&&"_self"!==t.target||l.add(t.href)};try{return{html:await s(),links:l}}finally{S=null}}(t(e),a),{html:s}=o,l=((e,t)=>{var r={};for(var n in e)A.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&P)for(var n of P(e))t.indexOf(n)<0&&H.call(e,n)&&(r[n]=e[n]);return r})(o,["html"]);return F(F({},l),{html:k(i)+s})}))}export default M;